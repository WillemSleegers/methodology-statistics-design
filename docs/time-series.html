<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Time series (predictive) models | Rethink Priorities on surveys, experiments, and data analysis; methodology, protocols and templates</title>
  <meta name="description" content="Discussion of issues in designing experiments/studies that are not specifically ‘quantitative’, but are important for gaining clear and useful inference" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Time series (predictive) models | Rethink Priorities on surveys, experiments, and data analysis; methodology, protocols and templates" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Discussion of issues in designing experiments/studies that are not specifically ‘quantitative’, but are important for gaining clear and useful inference" />
  <meta name="github-repo" content="daaronr/metrics_discussion_work" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Time series (predictive) models | Rethink Priorities on surveys, experiments, and data analysis; methodology, protocols and templates" />
  
  <meta name="twitter:description" content="Discussion of issues in designing experiments/studies that are not specifically ‘quantitative’, but are important for gaining clear and useful inference" />
  

<meta name="author" content="Rethink Priorities researchers, especially the ‘Survey team’ (project started by David Reinstein); Some sections are shared with the EA Marketing Team Gitbook" />


<meta name="date" content="2021-11-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modeling.html"/>
<link rel="next" href="classification-models.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="book_assets/header-attrs-2.11/header-attrs.js"></script>
<script src="book_assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="book_assets/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="book_assets/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- font families -->

<link href="https://fonts.googleapis.com/css?family=PT+Sans|Pacifico|Source+Sans+Pro" rel="stylesheet">

<!-- <script src="js/hideOutput.js"></script> -->

<!-- Mathjax -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/default.js"></script>

 <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js", "TeX/AMSmath.js"],
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
        jax: ["input/TeX","output/CommonHTML"]
      });
      MathJax.Hub.processSectionDelay = 0;
  </script>




<script async defer src="https://hypothes.is/embed.js"></script>

<!-- Folding text box javascript thing -->

<script type="text/javascript">
$(document).ready(function() {
  $folds = $(".fold");
  $folds.wrapInner("<div class=\"fold-blck\">"); // wrap a div container around content
  $folds.prepend("<button class=\"fold-btn\">Unfold</button>");  // add a button
  $(".fold-blck").toggle();  // fold all blocks
  $(".fold-btn").on("click", function() {  // add onClick event
    $(this).text($(this).text() === "Fold" ? "Unfold" : "Fold");  // if the text equals "Fold", change it to "Unfold"or else to "Fold"
    $(this).next(".fold-blck").toggle("linear");  // "swing" is the default easing function. This can be further customized in its speed or the overall animation itself.
  })
});
</script>

<!--
<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Global") elem.value = "Show Global";
    else elem.value = "Hide Global";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Global" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script> -->

<!-- Global site tag (gtag.js) - Google Analytics
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-148137970-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-148137970-3');
</script>
-->

<!-- FOLDING TEXT BOXES -->

<script>
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);
</script>
<script>
/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* jshint latedef: false */

+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.7'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);
</script>
<script>
window.initializeCodeFolding = function(show) {

  // handlers for show-all and hide all
  $("#rmd-show-all-code").click(function() {
    $('div.r-code-collapse').each(function() {
      $(this).collapse('show');
    });
  });
  $("#rmd-hide-all-code").click(function() {
    $('div.r-code-collapse').each(function() {
      $(this).collapse('hide');
    });
  });

  // index for unique code element ids
  var currentIndex = 1;

  // select all R code blocks
  var rCodeBlocks = $('pre.sourceCode, pre.r, pre.python, pre.bash, pre.sql, pre.cpp, pre.stan, pre.js');
  rCodeBlocks.each(function() {

    // create a collapsable div to wrap the code in
    var div = $('<div class="collapse r-code-collapse"></div>');
    if (show)
      div.addClass('in');
    var id = 'rcode-643E0F36' + currentIndex++;
    div.attr('id', id);
    $(this).before(div);
    $(this).detach().appendTo(div);

    // add a show code button right above
    var showCodeText = $('<span>' + (show ? 'Hide' : 'Code') + '</span>');
    var showCodeButton = $('<button type="button" class="btn btn-default btn-xs code-folding-btn pull-right"></button>');
    showCodeButton.append(showCodeText);
    showCodeButton
        .attr('data-toggle', 'collapse')
        .attr('data-target', '#' + id)
        .attr('aria-expanded', show)
        .attr('aria-controls', id);

    var buttonRow = $('<div class="row"></div>');
    var buttonCol = $('<div class="col-md-12"></div>');

    buttonCol.append(showCodeButton);
    buttonRow.append(buttonCol);

    div.before(buttonRow);

    // update state of button on show/hide
    div.on('hidden.bs.collapse', function () {
      showCodeText.text('Code');
    });
    div.on('show.bs.collapse', function () {
      showCodeText.text('Hide');
    });
  });

}
</script>
<script>
/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.7'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger($.Event('shown.bs.dropdown', relatedTarget))
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);
</script>
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
.row { display: flex; }
.collapse { display: none; }
.in { display:block }
.pull-right > .dropdown-menu {
    right: 0;
    left: auto;
}
.open > .dropdown-menu {
    display: block;
}
.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 1000;
    display: none;
    float: left;
    min-width: 160px;
    padding: 5px 0;
    margin: 2px 0 0;
    font-size: 14px;
    text-align: left;
    list-style: none;
    background-color: #fff;
    -webkit-background-clip: padding-box;
    background-clip: padding-box;
    border: 1px solid #ccc;
    border: 1px solid rgba(0,0,0,.15);
    border-radius: 4px;
    -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
}
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "hide");
});
</script>


<script>
document.write('<div class="btn-group pull-right" style="position: absolute; top: 10%; right: 15%; z-index: 200"><button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" data-_extension-text-contrast=""><span>Code</span> <span class="caret"></span></button><ul class="dropdown-menu" style="min-width: 50px;"><li><a id="rmd-show-all-code" href="#">Show All Code</a></li><li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li></ul></div>')
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="support/tufte_plus.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html"><i class="fa fa-check"></i><b>1</b> Introduction and overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#rethink-priorities-our-approach-to-empirical-and-quantitative-work"><i class="fa fa-check"></i><b>1.1</b> Rethink Priorities: Our approach to empirical and quantitative work</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#the-purpose-of-this-resource"><i class="fa fa-check"></i><b>1.2</b> The purpose of this resource</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-and-overview.html"><a href="introduction-and-overview.html#outline_sections"><i class="fa fa-check"></i><b>1.3</b> Sections and organization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i>(DATA, CODE, AND PRESENTATION)</a></li>
<li class="chapter" data-level="2" data-path="coding-etc.html"><a href="coding-etc.html"><i class="fa fa-check"></i><b>2</b> Coding practice and tools</a></li>
<li class="chapter" data-level="3" data-path="data-practices.html"><a href="data-practices.html"><i class="fa fa-check"></i><b>3</b> Data practices</a></li>
<li class="chapter" data-level="4" data-path="presenting-and-describing-data--present.html"><a href="presenting-and-describing-data--present.html"><i class="fa fa-check"></i><b>4</b> (PRESENTING AND DESCRIBING DATA) {-#present]</a></li>
<li class="chapter" data-level="5" data-path="methods-of-describing-data.html"><a href="methods-of-describing-data.html"><i class="fa fa-check"></i><b>5</b> Methods of ‘describing data’</a></li>
<li class="chapter" data-level="6" data-path="formatting-tables-figures-and-numerical-content.html"><a href="formatting-tables-figures-and-numerical-content.html"><i class="fa fa-check"></i><b>6</b> Formatting: tables, figures, and numerical content</a></li>
<li class="chapter" data-level="7" data-path="visualizations.html"><a href="visualizations.html"><i class="fa fa-check"></i><b>7</b> Visualizations</a>
<ul>
<li class="chapter" data-level="7.1" data-path="visualizations.html"><a href="visualizations.html#suggestedpreferred-formats-and-templates"><i class="fa fa-check"></i><b>7.1</b> Suggested/preferred formats and templates</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html"><i class="fa fa-check"></i><b>8</b> EA Survey: Presentation, methodology</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#organisation-collophon-formatting"><i class="fa fa-check"></i><b>8.1</b> Organisation, collophon, formatting</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#how-this-is-built-how-it-works-how-it-relates-to-ea-forum-posts"><i class="fa fa-check"></i><b>8.1.1</b> How this is built, how it works, how it relates to EA Forum posts</a></li>
<li class="chapter" data-level="8.1.2" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#markdown-formatting-conversion-etc."><i class="fa fa-check"></i><b>8.1.2</b> Markdown formatting, conversion, etc.</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#coding-and-organisational-issues"><i class="fa fa-check"></i><b>8.2</b> Coding and organisational issues</a></li>
<li class="chapter" data-level="8.3" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#content-and-methods"><i class="fa fa-check"></i><b>8.3</b> Content and methods</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#visualisations"><i class="fa fa-check"></i><b>8.3.1</b> Visualisations</a></li>
<li class="chapter" data-level="8.3.2" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#statistical-tests-make-a-new-sections"><i class="fa fa-check"></i><b>8.3.2</b> Statistical tests (make a new section)s</a></li>
<li class="chapter" data-level="8.3.3" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#models"><i class="fa fa-check"></i><b>8.3.3</b> ‘Models’</a></li>
<li class="chapter" data-level="8.3.4" data-path="ea-survey-presentation-methodology.html"><a href="ea-survey-presentation-methodology.html#model-coding-and-implementation-practice"><i class="fa fa-check"></i><b>8.3.4</b> Model coding and implementation practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="surveys.html"><a href="surveys.html"><i class="fa fa-check"></i>SURVEY DESIGNS AND METHODS</a>
<ul>
<li class="chapter" data-level="8.4" data-path="surveys.html"><a href="surveys.html#how-to-ask-good-survey-questions"><i class="fa fa-check"></i><b>8.4</b> How to ask good survey questions</a></li>
<li class="chapter" data-level="8.5" data-path="surveys.html"><a href="surveys.html#avoiding-pitfalls"><i class="fa fa-check"></i><b>8.5</b> Avoiding pitfalls</a></li>
<li class="chapter" data-level="8.6" data-path="surveys.html"><a href="surveys.html#constructing-reliable-indices-and-scales"><i class="fa fa-check"></i><b>8.6</b> Constructing reliable indices and scales</a></li>
<li class="chapter" data-level="8.7" data-path="surveys.html"><a href="surveys.html#sampling-issues-and-representativeness"><i class="fa fa-check"></i><b>8.7</b> Sampling issues and representativeness</a></li>
<li class="chapter" data-level="8.8" data-path="surveys.html"><a href="surveys.html#implementation-platforms-and-issues"><i class="fa fa-check"></i><b>8.8</b> Implementation platforms and issues</a></li>
<li class="chapter" data-level="8.9" data-path="surveys.html"><a href="surveys.html#survey-design-tools-it"><i class="fa fa-check"></i><b>8.9</b> Survey design tools (IT)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="expt_trial.html"><a href="expt_trial.html"><i class="fa fa-check"></i>EXPERIMENTS AND TRIAL DESIGN</a></li>
<li class="chapter" data-level="9" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html"><i class="fa fa-check"></i><b>9</b> Experiment and trial design: qualitative issues and guidelines, implementation issues</a>
<ul>
<li class="chapter" data-level="9.1" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#basic-design-choices-and-terminology"><i class="fa fa-check"></i><b>9.1</b> Basic design choices and terminology</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#types-of-experiments-lab-and-field"><i class="fa fa-check"></i><b>9.1.1</b> Types of experiments: ‘lab and field’</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#formulating-hypotheses-and-learning-and-adaptation-goals"><i class="fa fa-check"></i><b>9.2</b> Formulating hypotheses and ‘learning and adaptation goals’</a></li>
<li class="chapter" data-level="9.3" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#hypothesis-testing-versus-reinforcement-learning-goals"><i class="fa fa-check"></i><b>9.3</b> Hypothesis testing versus ‘reinforcement learning’ goals</a></li>
<li class="chapter" data-level="9.4" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#design-concerns-and-pitfalls"><i class="fa fa-check"></i><b>9.4</b> Design concerns and pitfalls</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#confounded-designs"><i class="fa fa-check"></i><b>9.4.1</b> Confounded designs</a></li>
<li class="chapter" data-level="9.4.2" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#attrition-and-failed-randomization"><i class="fa fa-check"></i><b>9.4.2</b> Attrition and failed randomization</a></li>
<li class="chapter" data-level="9.4.3" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#demand-effects"><i class="fa fa-check"></i><b>9.4.3</b> ‘Demand effects’</a></li>
<li class="chapter" data-level="9.4.4" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#naturalness-versus-cleanliness"><i class="fa fa-check"></i><b>9.4.4</b> Naturalness versus cleanliness</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#practical-and-implementation-issues"><i class="fa fa-check"></i><b>9.5</b> Practical and implementation issues</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#field-experiments-ab-and-lift-tests-and-marketing-trials"><i class="fa fa-check"></i><b>9.5.1</b> Field experiments, A/B and lift tests, and marketing trials</a></li>
<li class="chapter" data-level="9.5.2" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#designing-coding-and-implementing-experiments-it-issues"><i class="fa fa-check"></i><b>9.5.2</b> Designing, coding, and implementing experiments: IT issues</a></li>
<li class="chapter" data-level="9.5.3" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#failure-and-success-modes"><i class="fa fa-check"></i><b>9.5.3</b> Failure and success modes</a></li>
<li class="chapter" data-level="9.5.4" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#capturing-outcome-data"><i class="fa fa-check"></i><b>9.5.4</b> Capturing outcome data</a></li>
<li class="chapter" data-level="9.5.5" data-path="expt-qual-imp.html"><a href="expt-qual-imp.html#pre-registration-and-pre-analysis-plans"><i class="fa fa-check"></i><b>9.5.5</b> Pre-registration and pre-analysis plans</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="expt-quant.html"><a href="expt-quant.html"><i class="fa fa-check"></i><b>10</b> Experiment and trial design: quantitative issues</a>
<ul>
<li class="chapter" data-level="10.1" data-path="expt-quant.html"><a href="expt-quant.html#treatment-assignment-blocking-randomization-etc"><i class="fa fa-check"></i><b>10.1</b> ‘Treatment’ assignment (blocking, randomization, etc)</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="expt-quant.html"><a href="expt-quant.html#adaptive-sequential-and-dynamic-designs"><i class="fa fa-check"></i><b>10.1.1</b> Adaptive, sequential and dynamic designs</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="expt-quant.html"><a href="expt-quant.html#planning-diagnosing-and-adjusting-a-design"><i class="fa fa-check"></i><b>10.2</b> Planning, diagnosing and adjusting a design</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="expt-quant.html"><a href="expt-quant.html#specifying-models-hypotheses-and-statistical-testing-and-inference-approaches"><i class="fa fa-check"></i><b>10.2.1</b> Specifying models, hypotheses, and statistical testing and inference approaches</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="expt-quant.html"><a href="expt-quant.html#power-analyses-and-other-diagnosands"><i class="fa fa-check"></i><b>10.3</b> Power analyses (and other ‘diagnosands’)</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="expt-quant.html"><a href="expt-quant.html#key-resources-and-explainers"><i class="fa fa-check"></i><b>10.3.1</b> Key resources and explainers</a></li>
<li class="chapter" data-level="10.3.2" data-path="expt-quant.html"><a href="expt-quant.html#see-rethink_priorities_power_analysis_framework_2-in-appendix"><i class="fa fa-check"></i><b>10.3.2</b> See <span>‘Rethink_Priorities_Power_analysis_framework_2’ in appendix</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="qualitative-design-issues-ea-market-testing.html"><a href="qualitative-design-issues-ea-market-testing.html"><i class="fa fa-check"></i><b>11</b> “Qualitative” design issues (EA market testing)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="qualitative-design-issues-ea-market-testing.html"><a href="qualitative-design-issues-ea-market-testing.html#naturalness-of-setting-versus-pure-treatments"><i class="fa fa-check"></i><b>11.1</b> <strong>Naturalness of setting versus ‘pure’ treatments</strong></a></li>
<li class="chapter" data-level="11.2" data-path="qualitative-design-issues-ea-market-testing.html"><a href="qualitative-design-issues-ea-market-testing.html#awareness-of-testing-can-affect-results"><i class="fa fa-check"></i><b>11.2</b> <strong>Awareness of testing can affect results</strong></a></li>
<li class="chapter" data-level="11.3" data-path="qualitative-design-issues-ea-market-testing.html"><a href="qualitative-design-issues-ea-market-testing.html#other-issues-to-consider-and-flesh-out"><i class="fa fa-check"></i><b>11.3</b> Other issues to consider and flesh out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="basicstat.html"><a href="basicstat.html"><i class="fa fa-check"></i>(BASIC STATISTICS: TESTING, INFERENCE, AND ‘DESCRIPTIVE REGRESSION MODELS’)</a></li>
<li class="chapter" data-level="" data-path="modeling.html"><a href="modeling.html"><i class="fa fa-check"></i>PREDICTION, MACHINE LEARNING, AND ‘ML-STYLE MODELING’</a></li>
<li class="chapter" data-level="" data-path="time-series.html"><a href="time-series.html"><i class="fa fa-check"></i>Time series (predictive) models</a>
<ul>
<li class="chapter" data-level="11.4" data-path="time-series.html"><a href="time-series.html#time-series-application-to-predict-the-influence-of-discrete-events-and-more-on-web-traffic-signups-etc"><i class="fa fa-check"></i><b>11.4</b> Time Series – application to ‘predict the influence of discrete events’ (and more) on web traffic, signups, etc</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="time-series.html"><a href="time-series.html#the-case-at-hand-broad-terms"><i class="fa fa-check"></i><b>11.4.1</b> The case at hand (broad terms)</a></li>
<li class="chapter" data-level="11.4.2" data-path="time-series.html"><a href="time-series.html#our-proposed-overall-strategy"><i class="fa fa-check"></i><b>11.4.2</b> Our proposed overall strategy</a></li>
<li class="chapter" data-level="11.4.3" data-path="time-series.html"><a href="time-series.html#niks-approach"><i class="fa fa-check"></i><b>11.4.3</b> Nik’s approach</a></li>
<li class="chapter" data-level="11.4.4" data-path="time-series.html"><a href="time-series.html#kim-cs-thoughts"><i class="fa fa-check"></i><b>11.4.4</b> Kim C’s thoughts</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="time-series.html"><a href="time-series.html#petes-notes-below"><i class="fa fa-check"></i><b>11.5</b> PETE’S NOTES BELOW</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="time-series.html"><a href="time-series.html#decomposition"><i class="fa fa-check"></i><b>11.5.1</b> Decomposition</a></li>
<li class="chapter" data-level="11.5.2" data-path="time-series.html"><a href="time-series.html#types-of-decomposition"><i class="fa fa-check"></i><b>11.5.2</b> Types of decomposition</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="time-series.html"><a href="time-series.html#stationary-vs.-non-stationarity"><i class="fa fa-check"></i><b>11.6</b> Stationary vs. non-stationarity</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="time-series.html"><a href="time-series.html#converting-to-stationary"><i class="fa fa-check"></i><b>11.6.1</b> Converting to stationary</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="time-series.html"><a href="time-series.html#handling-features"><i class="fa fa-check"></i><b>11.7</b> Handling Features</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="time-series.html"><a href="time-series.html#lags"><i class="fa fa-check"></i><b>11.7.1</b> Lags</a></li>
<li class="chapter" data-level="11.7.2" data-path="time-series.html"><a href="time-series.html#rolling-statistics"><i class="fa fa-check"></i><b>11.7.2</b> Rolling Statistics</a></li>
<li class="chapter" data-level="11.7.3" data-path="time-series.html"><a href="time-series.html#which-lags-rolling-stats-to-use"><i class="fa fa-check"></i><b>11.7.3</b> Which Lags / Rolling Stats to Use?</a></li>
<li class="chapter" data-level="11.7.4" data-path="time-series.html"><a href="time-series.html#known-in-advance-vs.-not"><i class="fa fa-check"></i><b>11.7.4</b> Known in Advance vs. Not</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="time-series.html"><a href="time-series.html#validation"><i class="fa fa-check"></i><b>11.8</b> Validation</a></li>
<li class="chapter" data-level="11.9" data-path="time-series.html"><a href="time-series.html#types-of-models"><i class="fa fa-check"></i><b>11.9</b> Types of Models</a>
<ul>
<li class="chapter" data-level="11.9.1" data-path="time-series.html"><a href="time-series.html#arima"><i class="fa fa-check"></i><b>11.9.1</b> ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="time-series.html"><a href="time-series.html#multiseries"><i class="fa fa-check"></i><b>11.10</b> Multiseries</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="classification-models.html"><a href="classification-models.html"><i class="fa fa-check"></i><b>12</b> Classification models</a>
<ul>
<li class="chapter" data-level="12.1" data-path="classification-models.html"><a href="classification-models.html#classification_model_disc"><i class="fa fa-check"></i><b>12.1</b> Discussion: Assesing classification models and precision/recall</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="causal.html"><a href="causal.html"><i class="fa fa-check"></i>CAUSAL INFERENCE</a></li>
<li class="chapter" data-level="" data-path="fermi.html"><a href="fermi.html"><i class="fa fa-check"></i>(MONTE-CARLO ‘FERMI ESTIMATION’ APPROACHES)</a></li>
<li class="chapter" data-level="13" data-path="appendixsupplements.html"><a href="appendixsupplements.html"><i class="fa fa-check"></i><b>13</b> APPENDIX/SUPPLEMENTS</a></li>
<li class="chapter" data-level="14" data-path="power-workflow.html"><a href="power-workflow.html"><i class="fa fa-check"></i><b>14</b> Power analysis workflow (Jamie Elsey)</a>
<ul>
<li class="chapter" data-level="14.1" data-path="power-workflow.html"><a href="power-workflow.html#discussion-and-framework"><i class="fa fa-check"></i><b>14.1</b> Discussion and framework</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="power-workflow.html"><a href="power-workflow.html#introduction-and-goals"><i class="fa fa-check"></i><b>14.1.1</b> Introduction and goals</a></li>
<li class="chapter" data-level="14.1.2" data-path="power-workflow.html"><a href="power-workflow.html#definition-of-power"><i class="fa fa-check"></i><b>14.1.2</b> Definition of power</a></li>
<li class="chapter" data-level="14.1.3" data-path="power-workflow.html"><a href="power-workflow.html#general-workflow-for-simulation-based-power-analysis"><i class="fa fa-check"></i><b>14.1.3</b> General workflow for simulation-based power analysis</a></li>
<li class="chapter" data-level="14.1.4" data-path="power-workflow.html"><a href="power-workflow.html#possible-pitfallsmisunderstandings-of-power-analysis"><i class="fa fa-check"></i><b>14.1.4</b> Possible pitfalls/misunderstandings of power analysis</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="power-workflow.html"><a href="power-workflow.html#concrete-implementation-of-framework"><i class="fa fa-check"></i><b>14.2</b> Concrete implementation of framework</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="power-workflow.html"><a href="power-workflow.html#step-1-generate-a-large-number-of-data-sets-for-the-analysis"><i class="fa fa-check"></i><b>14.2.1</b> Step 1: Generate a large number of data sets for the analysis</a></li>
<li class="chapter" data-level="14.2.2" data-path="power-workflow.html"><a href="power-workflow.html#step-2-run-the-proposed-analysis-over-the-many-data-sets-and-return-the-estimands-of-interest"><i class="fa fa-check"></i><b>14.2.2</b> Step 2: Run the proposed analysis over the many data sets and return the estimands of interest</a></li>
<li class="chapter" data-level="14.2.3" data-path="power-workflow.html"><a href="power-workflow.html#step-3-summarise-the-output-returned-in-step-2-to-determine-likelihood-of-achieving-various-inferential-goals"><i class="fa fa-check"></i><b>14.2.3</b> Step 3: Summarise the output returned in Step 2 to determine likelihood of achieving various inferential goals</a></li>
<li class="chapter" data-level="14.2.4" data-path="power-workflow.html"><a href="power-workflow.html#step-4.-assess-the-output-and-determine-whether-the-proposed-analyses-and-inference-goals-are-realistic-and-likely-to-yield-informative-results."><i class="fa fa-check"></i><b>14.2.4</b> Step 4. Assess the output and determine whether the proposed analyses and inference goals are realistic and likely to yield informative results.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><i class="fa fa-check"></i><b>15</b> README: methodology-statistics-design, ‘Surveys, experiments, data analysis: Methodology, protocols and templates’</a>
<ul>
<li class="chapter" data-level="15.1" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#methods-and-rp-guidelines-bookdown"><i class="fa fa-check"></i><b>15.1</b> ‘Methods and RP Guidelines Bookdown’</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#to-contain"><i class="fa fa-check"></i><b>15.1.1</b> To contain…</a></li>
<li class="chapter" data-level="15.1.2" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#proposed-structure"><i class="fa fa-check"></i><b>15.1.2</b> Proposed structure</a></li>
<li class="chapter" data-level="15.1.3" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#sources"><i class="fa fa-check"></i><b>15.1.3</b> Sources</a></li>
<li class="chapter" data-level="15.1.4" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#using-and-building-this-bookdown-proposed-guidelines"><i class="fa fa-check"></i><b>15.1.4</b> Using and building this Bookdown (proposed guidelines)</a></li>
<li class="chapter" data-level="15.1.5" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#repo-branches-proposed"><i class="fa fa-check"></i><b>15.1.5</b> Repo branches (proposed)</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html"><a href="readme-methodology-statistics-design-surveys-experiments-data-analysis-methodology-protocols-and-templates.html#folder-structure-other-resources-in-this-repo"><i class="fa fa-check"></i><b>15.2</b> Folder structure, other resources in this repo</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Rethink Priorities on surveys, experiments, and data analysis; methodology, protocols and templates</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="time-series" class="section level1 unnumbered">
<h1>Time series (predictive) models</h1>

<div id="time-series-application-to-predict-the-influence-of-discrete-events-and-more-on-web-traffic-signups-etc" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Time Series – application to ‘predict the influence of discrete events’ (and more) on web traffic, signups, etc</h2>
<div id="the-case-at-hand-broad-terms" class="section level3" number="11.4.1">
<h3><span class="header-section-number">11.4.1</span> The case at hand (broad terms)</h3>
<p>Modeling what drives/effects/predicts …</p>
<ul>
<li><p>‘traffic and number of conversions over the days/weeks of this year’ (count data)</p></li>
<li><p>quality of conversions</p></li>
</ul>
<p>Particularly in response to discrete events, media coverage, etc.*</p>

<div class="note">
* DR: The latter makes this seem more like a causal inference problem (‘what works to boost good applications’) …
than a ‘predict the future to plan around it’ problem (as in Pete’s ML notes).
</div>
<ul>
<li>“Did any of these events (at different times) seem to increase numbers?*”
From which they aim to infer (more loosely)</li>
<li>“What kinds of events will, in the future, most likely increase numbers?”
<em>obviously this involves also assessing what normal variation is, where there’s a trend, seasonality etc. </em></li>
</ul>
</div>
<div id="our-proposed-overall-strategy" class="section level3" number="11.4.2">
<h3><span class="header-section-number">11.4.2</span> Our proposed overall strategy</h3>
Essentially, this is ‘time series data’ (although there may be some panel and cross-sectional elements).
We want to model this in a way that allows for overall trends (possibly nonlinear(, seasonality, and possibly autocorrelation (AR and MA terms?).*
<div class="marginnote">
<p>* Do we need to test for stationarity (and then difference and test it again?)</p>
</div>
<p>… and maybe also ‘structural breaks’.</p>
<p>When considering the impact of an event, we/they want to measure its ‘full effect over time’, taking into account its lagged effects, and possibly indirect ‘autoregressive effects’ (as converted people may bring in additional converts, etc.)</p>
<blockquote>
<p>DR: I think we need the partner to clarify their goals a bit more.
Is it:
1. Predict the evolution in the future to aid their planning?,
2. Understand the value of specific types of media coverage and other things they might influence?,
3. Or just to the specifically mentioned event?
4. Understand how the outcomes reacted to things largely <em>out of their control</em>?</p>
</blockquote>
<p>DR: I think a simple model ‘adjusted to trends (and maybe seasonality)’ might be good enough as a first pass. I’m not sure the data is rich enough to justify much more.</p>
</div>
<div id="niks-approach" class="section level3" number="11.4.3">
<h3><span class="header-section-number">11.4.3</span> Nik’s approach</h3>
<p>so I don’t have a huge amount of familiarity here :confused: but from past cursory reads of the lit my impression’s been that there are lots of equivalencies to areas I’m more familiar with,</p>
<p>e.g. an ARIMA(0,1,0) model is a Brownian motion is a GP with Gaussian kernel <span class="math inline">\(min(x_1,x_2)\)</span></p>
<p>so from your description of them problem, there are a few salient properties / complexities:</p>
<p>The focal outcome is a discrete nonzero number, ie the number of apps / page views.</p>
<p>The focal parameter is something like being featured in the WSJ, i.e. a (0,1) indicator.</p>
<p>Maybe the effect of this isn’t one-and-done, but but gives an immediate boost that e.g. decays exponentially through time?</p>
<p>The data are temporally autocorrelated, i.e. samples closer together in time are probably going to be more similar to each other than those further away</p>
<p>There may also be a linear trend through time separate from being featured in the WSJ, e.g. increasing general interest in 80kh, such that average interest on either side of the ‘discontinuity’ is different in a manner unrelated to 2.</p>
<p>There may also be nonlinear trends through time, e.g. seasonality effects.</p>
<p>I think my first stab would be to model this with a GLM</p>
<p>Specifically, a Poisson likelihood w/ a log link and linear model with intercept,</p>
<p>(DR: Poisson because its ‘arrival of events’. Why a ‘log link’?)</p>
<ul>
<li><p>a linear coefficient on time,</p></li>
<li><p>and an indicator for some discrete bump corresponding to whether a point came before or after the WSJ feature.</p></li>
</ul>
<p>(DR: Fundamentally, there will be bumps in individual periods that may occur randomly. A shock or permanent shift after the WSJ feature need not have been <em>caused</em> by it. The question is ‘how unusual is such a shock, in the context of a long time series of shocks’? And how long is this series, anyways?)</p>
<p>Then, add a mean 0 multivariate normal error term for overdispersion to this, composing like an RBF kernel w/ a periodic kernel?</p>
<p>(DR: Can you explain more? And does this allow for flexible autocorrelation? Do we need to ‘test if its a random walk’?)</p>
<p>This would sorta be like ‘kriging’ / using GPs to model temporal autocorrelation and I think should satisfy 1-3 above. And then if that works focus on trying to build out to cover more nuanced dynamics. But there might be better / more established ways to treat problems like this!</p>
<p>(I don’t know what ‘kriging’ means; does anyone else understand it?)</p>
</div>
<div id="kim-cs-thoughts" class="section level3" number="11.4.4">
<h3><span class="header-section-number">11.4.4</span> Kim C’s thoughts</h3>
<ol style="list-style-type: decimal">
<li>structural change analysis (e.g., like that implemented in the R package <a href="https://cran.r-project.org/web/packages/strucchange/strucchange.pdf">strucchange</a>).</li>
</ol>
<p>You can use this procedure to find “breakpoints” in the data where for example, is the slope changes value.</p>
<p>If you think the trends are nonlinear, I’ve done a similar thing using GAMs, and then taking the 1st derivative of the fitted curves and checking if it intersects zero. Explained pretty well <a href="https://www.frontiersin.org/articles/10.3389/fevo.2018.00149/full">here</a>.</p>
</div>
</div>
<div id="petes-notes-below" class="section level2" number="11.5">
<h2><span class="header-section-number">11.5</span> PETE’S NOTES BELOW</h2>

<div class="note">
<p>DR: Not sure what/how to adapt this</p>
</div>
<p>In Machine Learning, <strong>Time series</strong> problems are problems that involve forecasting (extrapolating) the future based on the information of the past. Typically we have to make a chain of non-independent predictions rather than predict discrete, independent events.</p>
<blockquote>
<p>DR: this prediction problem should be distinguished from ‘time series econometrics’, see, e.g., <a href="https://www.sas.upenn.edu/~fdiebold/Teaching706/TimeSeriesEconometrics.pdf">Diebold’s text</a>, which focuses on estimating fundamental structural parameters, and considers forms of ‘causality’.</p>
</blockquote>
<p>Most machine learning problems assume that the order of rows don’t matter and that each row is independent of each other. Since time series problems involve time-ordered rows where past events may influence future events, the rows are not independent and this independence assumption is violated.</p>
<p>Another key assumption of ML is that the training data is similar to the data being predicted (in this case, future data). This assumption must be true for time series as well.</p>
<div id="decomposition" class="section level3" number="11.5.1">
<h3><span class="header-section-number">11.5.1</span> Decomposition</h3>
<p>You can <strong>decompose</strong> a time series into four key parts:</p>
<ul>
<li>The <strong>trend</strong> (T), where the mean is changing over time (e.g., sales generally keep increasing over time)</li>
<li><strong>Seasonality</strong> (S) (e.g., sales are higher in the holiday season)</li>
<li>A non-seasonal <strong>cyclical</strong> (C) component (e.g., stock market follows “business cycles”). This is distinct from seasonality as seasonality has a fixed period (e.g., every November), whereas a cycle does not.</li>
<li>A <strong>random</strong> component (e)</li>
</ul>
<blockquote>
<p>DR: The ‘random component’ could be distinguised or described further; there are various types of ‘random’ terms … shifts, changes in trends, ‘moving average’ one-off terms, ‘autoregressive’ error terms</p>
</blockquote>
</div>
<div id="types-of-decomposition" class="section level3" number="11.5.2">
<h3><span class="header-section-number">11.5.2</span> Types of decomposition</h3>
<p>There are two basic types of decomposition – <strong>addititive</strong>, where <code>y = T + S + C + e</code> and <strong>multiplicative</strong>, where <code>y = T * S * C * e</code>.</p>
<!-- DR: I think this needs a bit more explanation. Why choose either?  Can't we have a model that combines aspects of each? -->
</div>
</div>
<div id="stationary-vs.-non-stationarity" class="section level2" number="11.6">
<h2><span class="header-section-number">11.6</span> Stationary vs. non-stationarity</h2>
<p><strong>Stationary</strong> time series (a) do not have a trend and also (b) do not have variance that changes over time. <strong>Non-stationary</strong> time series’ do have (a) and/or (b). Typically (a) and (b) create problems for modeling, as models have trouble extrapolating these and they tend to violate the assumption that the training data is similar to the data being predicted.</p>
<blockquote>
<p>DR: There can be <em>trend-stationary</em> series, that are stationary after including a trend. These are pretty easy to deal with.
Note also that nonstationary series can be described as following a ‘random walk’</p>
</blockquote>
<blockquote>
<p>But I’m also not convinced that this should necessarily be a problem in a prediction problem. If the series is a random walk/nonstationary … we can still use that knowledge to make a decent prediction of where the outcome will be at time T+t given it’s value at time T.</p>
</blockquote>
<div id="converting-to-stationary" class="section level3" number="11.6.1">
<h3><span class="header-section-number">11.6.1</span> Converting to stationary</h3>
<p>We can resolve these issues by converting a non-stationary series to a stationary series. This is done by <strong>differencing</strong>, where we look at the differences in the target over time rather than the actual target (y[t]-&gt; y[t] - y[t-1]).</p>
<blockquote>
<p>DR: Most economic time series are in fact stationary after first-differencing. However, this is not guaranteed. You may still want to test for stationarity after first-differencing. (But my memory is that the whole tests for stationarity thing is a huge can of worms).</p>
</blockquote>
<p>We can also handle exponential trends using techniques like log transformations.</p>
</div>
</div>
<div id="handling-features" class="section level2" number="11.7">
<h2><span class="header-section-number">11.7</span> Handling Features</h2>
<div id="lags" class="section level3" number="11.7.1">
<h3><span class="header-section-number">11.7.1</span> Lags</h3>
<p>Lagging is pretty key to time series. A <strong>lag</strong> is when you use the value from the previous series to forecast the next series. You can lag the target variable (e.g., use last month’s sales to predict next month’s sales) and/or you can lag independent variables. Lagged target variables often have strong explanatory power because the real world has delays (e.g., it takes a few weeks for marketing to transition to sales so marketing spend from three weeks ago may be more predictive than marketing spend of the same week) and causations that occur over time (e.g., sales from last year show that the store is more popular so there is more word of mouth and it is even more popular the next year).</p>
<p>Lagging always involves losing some data, as if you are using data from the previous month you won’t be able to use the first month in your training data (because there’s no previous month data for month -1). If you are using data from the three previous months, you won’t be able to train on the first three months. This may not be an issue though, because unlike with non-time series problems, more data in time series isn’t always better (since you might prefer to only be modeling the most recent trend).</p>
<p>We can mix lags of different lengths.</p>
</div>
<div id="rolling-statistics" class="section level3" number="11.7.2">
<h3><span class="header-section-number">11.7.2</span> Rolling Statistics</h3>
<p>Lags aren’t the only thing we can do - we can also calculate <strong>rolling statistics</strong>, like the mean of a variable over the past 14 days. You can also do rolling stats on differences.</p>
<!-- DR: I think this has something to do with the choice between autoregressive and 'moving average' terms in Econometrics, but I'm not sure -->
</div>
<div id="which-lags-rolling-stats-to-use" class="section level3" number="11.7.3">
<h3><span class="header-section-number">11.7.3</span> Which Lags / Rolling Stats to Use?</h3>
<ul>
<li>Assess with <strong>cross correlation function</strong>, which tests correlation of many different lags.</li>
</ul>
<!-- DR: 'assess' should be fleshed out a bit more, or perhaps an example should be linked? -->
<p>ooAssess with <strong>partial autocorrelation function</strong> (PACF), which gives the partial correlation of a stationary time series with its own lagged values, regressed the values of the time series at all shorter lags. Also can assess with the <strong>autocorrelation function</strong> (ACF), which does not control for other lags.</p>
<ul>
<li><p>changing lag lengths based on data type, domain knowledge, and how quickly you think the series reacts to change (e.g., use shorter lags for stocks)</p></li>
<li><p>compare by backtesting</p></li>
</ul>
</div>
<div id="known-in-advance-vs.-not" class="section level3" number="11.7.4">
<h3><span class="header-section-number">11.7.4</span> Known in Advance vs. Not</h3>
<p>When we are trying to predict in the future, we run into an issue that the features we are using for prediction might also be unknown at prediction time. For example, our historical data might contain information about rainfall and how that connects to sales, but we can’t reliably know the rainfall three months in the future to predict future sales.</p>
<p>However, some features are known in advance - like Christmas time may also have a big impact on sales and we always know exactly when Christmas will be.</p>
<p>For features that are not known in advance, we can still use them by either explicitly forecasting them, extrapolating them out using lags / rolling stats of sufficient size, or extrapolating from current values using differing forecast differences.</p>
<!-- DR: maybe this 'features not known in advance' thing needs a linked example? -->
</div>
</div>
<div id="validation" class="section level2" number="11.8">
<h2><span class="header-section-number">11.8</span> Validation</h2>
<p>Normally for ML problems we use cross validation, where we randomly partition the data and then predict one partition using data from all the other partitions. The problem with this for time series is that this will involve using future data to predict the past, which will make for unrealistically good predictions.</p>
<p>Instead, we can use <strong>backtesting</strong> where we predict a future time using a window of past times (e.g., predict Year 6 using Years 3-5, predict Year 5 using Years 2-4, predict Year 4 using Years 1-3).</p>
<p>For metrics, it’s good to compare the evaluation metric to a <strong>naive baseline model</strong>, or an intentionally minimal extrapolation.</p>
</div>
<div id="types-of-models" class="section level2" number="11.9">
<h2><span class="header-section-number">11.9</span> Types of Models</h2>
<ul>
<li><strong>Integrated model</strong> - move model one step at a time, e.g., ARIMA, exponential smoothing - univariate</li>
<li><strong>Forecast distance model</strong> - predict fixed distances, e.g., XGB</li>
<li><strong>Trend and decomposition model</strong> - predict a different model for each distance, e.g., FB Prophet</li>
</ul>
<!-- DR: the above is opaque ... e.g., what does 'move model one step at a time' mean? -->
<div id="arima" class="section level3" number="11.9.1">
<h3><span class="header-section-number">11.9.1</span> ARIMA</h3>
<p><strong>Autoregressive process</strong>: AR(p): fit coefficients to p lags</p>
<p><strong>Moving average process</strong>: MA(q): fit coefficients to q previous errors</p>
<p><strong>ARMA model</strong>: X = f(AR, MA)</p>
<p><strong>I(d)</strong> = Differencing d times</p>
<p><strong>ARIMA(p, d, q)</strong> = AR(p) + I(d) + MA(q)</p>
<!-- DR: obviously, this needs a bit more explanation. Standard statistics and econometric texts cover this ... perhaps Kennedy (
'A Guide to Econometrics'  treatment is the most practical one I know -->
</div>
</div>
<div id="multiseries" class="section level2" number="11.10">
<h2><span class="header-section-number">11.10</span> Multiseries</h2>
<p>Predict a different time series for each unit (e.g., sales by store). Can use features across series (<strong>cross series features</strong>).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modeling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="classification-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": true,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
